# SDB

SDB 是一款使用 PHP 編寫的協程偵錯程式工具。

* 使用簡單，只需要一行程式碼即可開啟；
* 無需埠，可直接執行在 TTY 上；
* 零成本，可在生產環境使用，不影響效能；
* 功能強大，深度定製，量身打造類微型作業系統；

## 使用

只需要在你的程式碼當中加入一行程式碼：

```php
\Swow\Debug\Debugger::runOnTTY();
```

在終端中啟動執行時加上`-e`：

```shell
php -e -d extension=swow index.php
```

你就會在終端上得到這樣的輸出：

```bash
  ____    ____    ____  
 / ___|  |  _ \  | __ ) 
 \___ \  | | | | |  _ \ 
  ___) | | |_| | | |_) |
 |____/  |____/  |____/

Enter 'r' to run your program
> 
```

鍵入`r`開始除錯之旅吧

## 支援命令

1. 檢視當前所有協程狀態(`ps`)
2. 窺視協程(`co id`)
3. 進入協程(`attach id`)
4. 檢視呼叫棧(`bt`)
5. 查棧幀(`f index`)
6. 打斷點(`b`)
7. 單步除錯(`n`)
8. 恢復執行(`c`)
9. 檢視更多原始碼(`l`)
10. 列印變數(`p $var`)
11. 修改變數(`p $var =x`)
12. 執行命令(`p command0`)
13. 檢視變數(`vars`)
14. 掃描殭屍協程(`z 時間`)
15. 殺死協程(`kill id`)
16. 殺死所有協程(`killall`)
